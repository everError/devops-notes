# ğŸ“˜ Helm `_helpers.tpl` íŒŒì¼ ê°œë… ë° ì‚¬ìš©ë²•

`_helpers.tpl` íŒŒì¼ì€ Helm Chart ë‚´ì—ì„œ **ë°˜ë³µì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì´ë¦„, ë¼ë²¨, ì–´ë…¸í…Œì´ì…˜ ë“±ì˜ ê°’**ì„ **í…œí”Œë¦¿ í•¨ìˆ˜**ë¡œ ì •ì˜í•˜ì—¬ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê³  ê´€ë¦¬ í¸ì˜ì„±ì„ í–¥ìƒì‹œí‚¤ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

---

## ğŸ”¹ `_helpers.tpl` ìœ„ì¹˜

* ê²½ë¡œ: `charts/<chart-name>/templates/_helpers.tpl`
* ì´ íŒŒì¼ì€ Helmì´ ìë™ìœ¼ë¡œ ì¸ì‹í•˜ë©°, `define`ê³¼ `include` í‚¤ì›Œë“œë¥¼ í†µí•´ í™œìš©ë©ë‹ˆë‹¤.

---

## ğŸ”¹ ì£¼ìš” ê°œë…

### ğŸ”¸ define

Helm í…œí”Œë¦¿ ì•ˆì—ì„œ í•¨ìˆ˜ë¥¼ ì •ì˜í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```yaml
{{- define "<í•¨ìˆ˜ì´ë¦„>" -}}
<ë°˜í™˜í•  í…ìŠ¤íŠ¸ë‚˜ YAML>
{{- end -}}
```

### ğŸ”¸ include

ì •ì˜í•œ í…œí”Œë¦¿ í•¨ìˆ˜ë¥¼ ë¶ˆëŸ¬ì™€ ì‚¬ìš©í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

```yaml
{{ include "<í•¨ìˆ˜ì´ë¦„>" . }}
```

* ë‘ ë²ˆì§¸ ì¸ìì¸ `.`ì€ í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë„˜ê²¨ì£¼ëŠ” ê²ƒì…ë‹ˆë‹¤ (ì˜ˆ: `.Values`, `.Chart`, `.Release` ë“± ì‚¬ìš© ê°€ëŠ¥).

### ğŸ”¸ nindent

ë Œë”ë§ëœ ë¬¸ìì—´ì— ë“¤ì—¬ì“°ê¸°ë¥¼ ì ìš©í•©ë‹ˆë‹¤.

```yaml
{{ include "mychart.labels" . | nindent 4 }}
```

* ì¶œë ¥ëœ YAMLì„ êµ¬ì¡°ì— ë§ê²Œ ì •ë ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ”¹ ì˜ˆì‹œ: `_helpers.tpl` ì •ì˜

```yaml
{{- define "mychart.name" -}}
{{ .Chart.Name }}
{{- end -}}

{{- define "mychart.labels" -}}
app.kubernetes.io/name: {{ include "mychart.name" . }}
app.kubernetes.io/instance: {{ .Release.Name }}
app.kubernetes.io/version: {{ .Chart.AppVersion }}
app.kubernetes.io/managed-by: {{ .Release.Service }}
{{- end -}}
```

---

## ğŸ”¹ ì˜ˆì‹œ: ë‹¤ë¥¸ í…œí”Œë¦¿ íŒŒì¼ì—ì„œ ì‚¬ìš©í•˜ê¸° (ì˜ˆ: `deployment.yaml`)

```yaml
metadata:
  name: {{ include "mychart.name" . }}
  labels:
    {{ include "mychart.labels" . | nindent 4 }}
```

---

## âœ… `_helpers.tpl` ì‚¬ìš© ì‹œ ì¥ì 

| ì¥ì           | ì„¤ëª…                               |
| ----------- | -------------------------------- |
| **ì¤‘ë³µ ì œê±°**   | ë¼ë²¨, ì´ë¦„, ì–´ë…¸í…Œì´ì…˜ ë“±ì˜ ë°˜ë³µëœ ë‚´ìš© ì¶”ì¶œ ê°€ëŠ¥    |
| **ìœ ì§€ë³´ìˆ˜ ìš©ì´** | í•œ ê³³ë§Œ ìˆ˜ì •í•˜ë©´ ì „ì²´ í…œí”Œë¦¿ì— ì ìš©ë¨            |
| **ê°€ë…ì„± í–¥ìƒ**  | ì£¼ìš” ë¡œì§ì€ í…œí”Œë¦¿ íŒŒì¼ì—, ê³µí†µ ë¡œì§ì€ í—¬í¼ë¡œ ë¶„ë¦¬ ê°€ëŠ¥ |

---