# ğŸ“˜ Kubernetes ì£¼ìš” ëª…ë ¹ì–´ ì •ë¦¬ (kubectl)

Kubernetesì—ì„œëŠ” `kubectl` ëª…ë ¹ì–´ë¥¼ í†µí•´ í´ëŸ¬ìŠ¤í„°ë¥¼ ê´€ë¦¬í•˜ê³  ë¦¬ì†ŒìŠ¤ë¥¼ ì¡°ì‘í•©ë‹ˆë‹¤. ì•„ë˜ëŠ” ì‹¤ë¬´ ë° ì‹¤ìŠµì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” `kubectl` ëª…ë ¹ì–´ë“¤ì„ ëª©ì ë³„ë¡œ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.

---

## ğŸ”¹ í´ëŸ¬ìŠ¤í„° ì •ë³´ í™•ì¸

| ëª…ë ¹ì–´                              | ì„¤ëª…                                 |
| ----------------------------------- | ------------------------------------ |
| `kubectl cluster-info`              | í˜„ì¬ í´ëŸ¬ìŠ¤í„°ì˜ ì—”ë“œí¬ì¸íŠ¸ ì •ë³´ í™•ì¸ |
| `kubectl config view`               | í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ kubeconfig ì„¤ì • í™•ì¸  |
| `kubectl config use-context <ì´ë¦„>` | ì‚¬ìš©í•  í´ëŸ¬ìŠ¤í„° ì»¨í…ìŠ¤íŠ¸ ì „í™˜        |
| `kubectl get nodes`                 | í´ëŸ¬ìŠ¤í„°ì— ë“±ë¡ëœ ë…¸ë“œ ëª©ë¡ í™•ì¸     |

---

## ğŸ”¹ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ

| ëª…ë ¹ì–´                            | ì„¤ëª…                                         |
| --------------------------------- | -------------------------------------------- |
| `kubectl get pods`                | ëª¨ë“  Pod ì¡°íšŒ (ê¸°ë³¸ì€ default namespace)     |
| `kubectl get svc`                 | ëª¨ë“  Service ì¡°íšŒ                            |
| `kubectl get deployment`          | ëª¨ë“  Deployment ì¡°íšŒ                         |
| `kubectl get all`                 | Pod, Service, Deployment ë“± ì „ì²´ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ |
| `kubectl get pods -n <namespace>` | íŠ¹ì • ë„¤ì„ìŠ¤í˜ì´ìŠ¤ì˜ Pod ì¡°íšŒ                 |

---

## ğŸ”¹ ë¦¬ì†ŒìŠ¤ ìƒì„± ë° ì ìš©

| ëª…ë ¹ì–´                                                                    | ì„¤ëª…                                                  |
| ------------------------------------------------------------------------- | ----------------------------------------------------- |
| `kubectl apply -f <íŒŒì¼>`                                                 | YAML íŒŒì¼ ê¸°ë°˜ìœ¼ë¡œ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„± ë˜ëŠ” ì—…ë°ì´íŠ¸        |
| `kubectl create namespace <ì´ë¦„>`                                         | ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ìƒì„±                                     |
| `kubectl create -f <íŒŒì¼>`                                                | YAMLë¡œ ë¦¬ì†ŒìŠ¤ ìƒì„± (applyì™€ ìœ ì‚¬í•˜ë‚˜ ì—…ë°ì´íŠ¸ëŠ” ë¶ˆê°€) |
| `kubectl create deployment my-app --image=nginx --dry-run=client -o yaml` | ì‹¤ì œ ìƒì„±í•˜ì§€ ì•Šê³  YAML ì¶œë ¥ (í…œí”Œë¦¿ í™•ì¸ìš©)          |

---

## ğŸ”¹ ë¦¬ì†ŒìŠ¤ ìˆ˜ì • ë° ì‚­ì œ

| ëª…ë ¹ì–´                               | ì„¤ëª…                             |
| ------------------------------------ | -------------------------------- |
| `kubectl edit <ë¦¬ì†ŒìŠ¤íƒ€ì…> <ì´ë¦„>`   | ë¦¬ì†ŒìŠ¤ YAMLì„ ì—ë””í„°ë¡œ ì§ì ‘ ìˆ˜ì • |
| `kubectl delete -f <íŒŒì¼>`           | YAMLì— ì •ì˜ëœ ë¦¬ì†ŒìŠ¤ ì‚­ì œ        |
| `kubectl delete <ë¦¬ì†ŒìŠ¤íƒ€ì…> <ì´ë¦„>` | íŠ¹ì • ë¦¬ì†ŒìŠ¤ ì‚­ì œ                 |

---

## ğŸ”¹ Pod / ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ì ‘ê·¼ ë° ë¡œê·¸ í™•ì¸

| ëª…ë ¹ì–´                             | ì„¤ëª…                           |
| ---------------------------------- | ------------------------------ |
| `kubectl exec -it <podëª…> -- bash` | Pod ë‚´ë¶€ bash ì ‘ì†             |
| `kubectl logs <podëª…>`             | Pod ë¡œê·¸ ì¶œë ¥                  |
| `kubectl logs -f <podëª…>`          | ë¡œê·¸ ì‹¤ì‹œê°„ ì¶œë ¥ (follow ëª¨ë“œ) |
| `kubectl describe pod <podëª…>`     | Pod ìƒì„¸ ìƒíƒœ í™•ì¸             |

---

## ğŸ”¹ ê¸°íƒ€ ìœ ìš©í•œ ëª…ë ¹ì–´

| ëª…ë ¹ì–´                                                   | ì„¤ëª…                                             |
| -------------------------------------------------------- | ------------------------------------------------ |
| `kubectl port-forward <podëª…> <ë¡œì»¬í¬íŠ¸>:<ì»¨í…Œì´ë„ˆí¬íŠ¸>` | ë¡œì»¬ì—ì„œ Podì˜ í¬íŠ¸ ì ‘ê·¼                         |
| `kubectl get events`                                     | ìµœê·¼ ì´ë²¤íŠ¸ í™•ì¸ (ì—ëŸ¬, ìŠ¤ì¼€ì¤„ ë“± ë””ë²„ê¹…ì— ë„ì›€) |
| `kubectl explain <ë¦¬ì†ŒìŠ¤íƒ€ì…>`                           | í•´ë‹¹ ë¦¬ì†ŒìŠ¤ì˜ êµ¬ì¡°ì™€ ì„¤ëª… ì¶œë ¥                   |

---

## ğŸ”¸ ì˜µì…˜: `--dry-run`

| ì˜µì…˜               | ì„¤ëª…                                                            |
| ------------------ | --------------------------------------------------------------- |
| `--dry-run=client` | ì‹¤ì œ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•Šê³  í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œ YAMLë§Œ ì‹œë®¬ë ˆì´ì…˜ |
| `--dry-run=server` | API ì„œë²„ì— ìœ íš¨ì„±ë§Œ ê²€ì‚¬, ì ìš©ì€ ì•ˆ í•¨                          |

### ì˜ˆì‹œ

```bash
kubectl apply -f deployment.yaml --dry-run=client -o yaml
```

```bash
kubectl create deployment my-app --image=nginx --dry-run=client -o yaml > deployment.yaml
```

- í…ŒìŠ¤íŠ¸ ë˜ëŠ” í…œí”Œë¦¿ ìƒì„±ì„ ìœ„í•œ ì•ˆì „í•œ ë°©ì‹ìœ¼ë¡œ ìœ ìš©í•¨

---

## ğŸ“Œ íŒ

- `-o yaml` ì˜µì…˜ìœ¼ë¡œ ì¶œë ¥ í¬ë§·ì„ YAMLë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `--namespace` ì˜µì…˜ ë˜ëŠ” `-n` í”Œë˜ê·¸ë¡œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- `kubectl apply -k ./ê²½ë¡œ` ë¡œ Kustomize ë””ë ‰í† ë¦¬ë¥¼ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
